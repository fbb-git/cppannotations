#!/bin/sh

cd `dirname $0`
CPPDIR=`cd ..;pwd`
CPP=`basename $CPPDIR`
cd `dirname $CPPDIR`

cp $CPP/single/legal.shtml  $CPP/latex

rm -f $CPP/zip/cplusplus.ps.zip $CPP/zip/cplusplus.pdf.zip \
      $CPP/zip/cplusplus.latex.zip

if [ -s $CPP/latex/cplusplus.ps ] ; then
    zip -m $CPP/zip/cplusplus.ps.zip $CPP/latex/*.ps
    zip  $CPP/zip/cplusplus.ps.zip  $CPP/latex/legal.shtml \
                                    $CPP/CHANGELOG \
                                    $CPP/zip/README
fi

if [ -s $CPP/latex/cplusplus.pdf ] ; then
    zip -m $CPP/zip/cplusplus.pdf.zip $CPP/latex/*.pdf
    zip  $CPP/zip/cplusplus.pdf.zip $CPP/latex/legal.shtml \
                                    $CPP/CHANGELOG \
                                    $CPP/zip/README
fi

zip -ry $CPP/zip/cplusplus.latex.zip    $CPP/latex/*  \
                                        $CPP/CHANGELOG \
                                        $CPP/zip/README -x *.svn*
# end
